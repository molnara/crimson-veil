CRIMSON VEIL - CHANGELOG
=========================

This file tracks all changes made to the project.
Format: [YYYY-MM-DD HH:MM] - Brief description of change

Recent Changes (v0.5.0+):
-------------------------
[2025-12-12 04:45] [MAJOR] Task 2.1 complete - Movement sounds (footsteps) fully implemented
[2025-12-12 04:45] [FEATURE] Biome-aware footstep system with 4 surface types (grass, stone, sand, snow)
[2025-12-12 04:45] [FEATURE] Footstep timing: 0.45s walk interval, 0.28s sprint interval
[2025-12-12 04:45] [FEATURE] 12 footstep audio variants (3 per surface) with automatic pitch variation
[2025-12-12 04:45] [FEATURE] Dual ground detection: floor check + velocity-based steep slope support
[2025-12-12 04:45] [FEATURE] Works on slopes up to 80° (beyond floor_max_angle limit)
[2025-12-12 04:45] [FEATURE] Smooth biome transitions with 3% buffer zones (2-4 meter transition)
[2025-12-12 04:45] [FIX] Beach spawn zone override removed - footsteps now match visual biome
[2025-12-12 04:45] [FIX] Steep slope detection using velocity thresholds (y < 3.5, length > 0.3)
[2025-12-12 04:45] [FIX] Biome transition buffer tuned for natural feel in both directions
[2025-12-12 04:45] [MINOR] Added footstep timer variables (walk/sprint intervals)
[2025-12-12 04:45] [MINOR] Added _get_terrain_surface() method with noise-based biome detection
[2025-12-12 04:45] [MINOR] Integrated footstep logic in _physics_process() after move_and_slide()
[2025-12-12 04:45] [MINOR] Footsteps respect grounded state, flying mode, and movement direction
[2025-12-12 08:30] [MAJOR] Task 1.3 complete - Harvesting Sound Integration complete
[2025-12-12 08:30] [FEATURE] Harvesting sounds integrated - axe_chop on trees, pickaxe_hit on rocks, mushroom/strawberry pick sounds
[2025-12-12 08:30] [FEATURE] Resource break sound plays on harvest completion for all resource types
[2025-12-12 08:30] [FEATURE] Wrong tool sound provides immediate negative feedback
[2025-12-12 08:30] [FEATURE] Tool switch sound on equipment change (no pitch variation for consistency)
[2025-12-12 08:30] [FEATURE] Log despawn sound - each log piece plays "poof" sound when disappearing after 4 seconds
[2025-12-12 08:30] [MINOR] Updated harvesting_system.gd - added 4 audio hooks (wrong tool, hit sound, resource break, tool switch)
[2025-12-12 08:30] [MINOR] Updated harvestable_resource.gd - added resource_break sound on completion
[2025-12-12 08:30] [MINOR] Updated harvestable_tree.gd - added resource_break sound to tree-specific completion
[2025-12-12 08:30] [MINOR] Updated log_piece.gd - added resource_break sound on log despawn
[2025-12-12 08:30] [MINOR] Added helper methods to harvesting_system.gd - is_looking_at_resource(), is_looking_at_container()
[2025-12-12 08:30] [FIX] Tree falling physics improved - faster, more reliable falling behavior
[2025-12-12 08:30] [FIX] Reduced damping (linear: 2.5→0.8, angular: 3.5→1.2) for dramatic falls
[2025-12-12 08:30] [FIX] Increased gravity (1.5→2.0) and initial forces (push: 8→15, torque: 12→20)
[2025-12-12 08:30] [FIX] More aggressive impact detection (wait: 1.5s→0.5s, velocity threshold more lenient)
[2025-12-12 08:30] [FIX] Backup timer reduced (2.5s→2.0s) ensures trees always break within 2 seconds
[2025-12-12 02:10] [MAJOR] Task 1.2 complete - AI Sound Generation & Import complete
[2025-12-12 02:10] [MAJOR] Generated 48 audio files - 40 SFX + 8 music tracks using SFX Engine + Mubert
[2025-12-12 02:10] [FEATURE] Harvesting sounds - 6 files (axe_chop, pickaxe_hit, mushroom_pick, strawberry_pick, resource_break, wrong_tool)
[2025-12-12 02:10] [FEATURE] Movement sounds - 12 footstep files (grass, stone, sand, snow × 3 variants each)
[2025-12-12 02:10] [FEATURE] Building sounds - 3 files (block_place, block_remove, build_mode_toggle)
[2025-12-12 02:10] [FEATURE] UI sounds - 9 files (inventory, crafting, pickup, warnings, health/hunger alerts)
[2025-12-12 02:10] [FEATURE] Container sounds - 2 files (chest_open, chest_close)
[2025-12-12 02:10] [FEATURE] Ambient loops - 8 files (wind, ocean, crickets, birds, frogs, leaves, thunder)
[2025-12-12 02:10] [FEATURE] Music tracks - 8 files (4 day ambient + 4 night ambient, 2-minute seamless loops)
[2025-12-12 02:10] [MAJOR] Updated audio_manager.gd - _load_sound_library() now loads all 48 audio files
[2025-12-12 02:10] [MAJOR] Updated audio_manager_test.gd - added 7 new playback tests (Tests 7-13)
[2025-12-12 02:10] [FEATURE] Automatic audio testing - plays harvesting, footsteps, building, UI, containers, music, ambient
[2025-12-12 02:10] [FEATURE] Manual test controls - press 1-8 for specific sound tests, 0 to stop all
[2025-12-12 02:10] [MINOR] Imported all audio to res://audio/ with proper folder structure
[2025-12-12 02:10] [MINOR] Configured loop settings on music and ambient files in Godot
[2025-12-12 02:10] [MINOR] Budget: $22 actual ($8 SFX Engine + $14 Mubert) - under $34 target by $12
[2025-12-12 02:10] [DOC] Updated ROADMAP.txt - marked Task 1.2 complete, updated audio manifest
[2025-12-11 19:11] [MAJOR] Task 1.1 complete - Audio Manager architecture implemented and tested
[2025-12-11 19:11] [MAJOR] Created audio_manager.gd - AutoLoad singleton with sound pooling (393 lines)
[2025-12-11 19:11] [FEATURE] Sound pooling system - max 10 concurrent sounds to prevent audio spam
[2025-12-11 19:11] [FEATURE] Volume categories - Master, SFX, Music, Ambient, UI with hybrid philosophy
[2025-12-11 19:11] [FEATURE] Pitch variation system - random 0.9-1.1x for natural sound feel
[2025-12-11 19:11] [FEATURE] Music crossfade system - smooth transitions using Tween
[2025-12-11 19:11] [FEATURE] Ambient loop management - multiple concurrent environmental sounds
[2025-12-11 19:11] [FEATURE] Complete playback API - play_sound(), play_music(), play_sound_variant()
[2025-12-11 19:11] [MINOR] Created audio_manager_test.gd - comprehensive test suite
[2025-12-11 19:11] [MINOR] Created audio_manager_test.tscn - test scene for verification
[2025-12-11 19:11] [MINOR] Updated project.godot - added AudioManager to autoload
[2025-12-11 19:11] [DOC] Created AUDIO_MANAGER_README.md - complete implementation documentation
[2025-12-11 19:11] [DOC] Updated DEVELOPMENT_GUIDE.md - added .uid file guidance and commit best practices
[2025-12-11 19:11] [DOC] Updated DEVELOPMENT_GUIDE.md - added Audio Systems section to File Index
[2025-12-11 19:11] [DOC] Updated DEVELOPMENT_GUIDE.md - moved Audio Manager to Currently Implemented
[2025-12-11 19:11] [TEST] All tests passing - singleton, volume levels, sound pool, music player verified
[2025-12-11 16:30] [PLANNING] v0.5.0 "Atmosphere & Audio" sprint planned - pivot from workbench to sound/music
[2025-12-11 16:30] [PLANNING] Sprint scope: Audio manager, 43 AI-generated sounds, music system ($34 budget)
[2025-12-11 16:30] [PLANNING] Design decisions: Pure ambient drone music, biome-aware footsteps, hybrid volume
[2025-12-11 16:30] [DOC] Updated ROADMAP.txt - replaced workbench sprint with audio sprint
[2025-12-11 16:30] [DOC] Added "Sprint Planning Workflow" section to DEVELOPMENT_GUIDE.md (~150 lines)
[2025-12-12 13:30] [RELEASE] v0.4.0 "Storage & Organization" released - Sprint Priorities 1 & 2 complete

---

Version History:
----------------

v0.5.0 (In Progress) - December 2025 - "Atmosphere & Audio"
Sprint Goal: Implement professional-quality sound system and ambient music
Timeline: 7-10 days (12-15 sessions, ~24-30% Sonnet capacity)
Budget: $22 actual ($8 SFX Engine + $14 Mubert - saved $12)

SPRINT PLAN:
Priority 1 - Core Sound System (5 sessions):
- Audio manager architecture with sound pooling and volume controls
- AI sound generation (48 professional audio files via SFX Engine + Mubert)
- SFX integration (harvesting, movement, building, UI, containers)

Priority 2 - Music & Ambient System (5-6 sessions):
- Movement sounds (footsteps) - biome-aware with steep slope detection
- Music manager with crossfade system
- AI music generation (8 ambient tracks: 4 day + 4 night via Mubert)
- Ambient environmental sounds (wind, ocean, wildlife - 8 loops)
- UI & feedback sounds (crafting, health/hunger warnings)

Priority 3 - Polish & Refinement (2-4 sessions):
- Settings menu audio controls (volume sliders, mute toggles)
- Sound variation system (pitch/volume randomization)
- Audio balance pass (test and adjust levels)
- Controller rumble (optional - tree falling, harvesting feedback)

DESIGN DECISIONS:
✓ Music Style: Pure ambient drone (minimal, atmospheric, non-intrusive)
✓ Footstep Complexity: Biome-aware (4 surfaces: grass, stone, sand, snow)
✓ Volume Philosophy: Hybrid (realistic ambient, exaggerated actions)
✓ Music Variety: Day/night variation (8 tracks total - 4 day, 4 night)
✓ Budget Approach: $22 investment for professional commercial-licensed audio

AUDIO FILE MANIFEST (48 files total):
- 40 SFX files (harvesting: 6, movement: 12, building: 3, UI: 9, container: 2, ambient: 8)
- 8 Music tracks (4 day ambient, 4 night ambient - 2 min each, WAV format)
- Tools used: SFX Engine ($8/month) + Mubert Creator ($14/month)

FEATURES COMPLETED:
✓ Audio Manager - Sound pooling, volume categories, pitch variation (Task 1.1)
✓ AI Sound Generation - 48 audio files generated and imported (Task 1.2)
✓ Harvesting SFX - Axe, pickaxe, mushroom/strawberry picking, tool switch (Task 1.3)
✓ Movement Sounds - Biome-aware footsteps with steep slope detection (Task 2.1)

PROGRESS: 4/13 tasks complete (31%)


v0.4.0 (Released December 12, 2025) - "Storage & Organization"
Sprint Completion: 11/15 tasks (73%) - Priorities 1 & 2 fully complete
Commit: d53049d

Features Implemented:
- Container system with dual-panel UI
- Independent container inventories (32 slots each)
- Click/shift-click transfer mechanics
- Item stacking system with max limits
- Container placement and removal
- Low-poly chest visual with highlighting
- Container interaction (E key / A button)
- B button quick close
- UI state management
- Full Xbox controller support
- Tool cycling improvements
- Valheim-style log breaking physics
- Health/hunger system
- Settings menu
- Biome configuration controls
- Code organization improvements

[Complete feature list in ROADMAP.txt COMPLETED section]


v0.3.0 (commit: aecc232) - December 9, 2025
- Procedural world generation with 7 biomes
- Day/night cycle with pixelated sun/moon
- Perlin noise cloud system with organic shapes and Inspector-adjustable parameters
- Harvestable resources (trees, strawberries, mushrooms)
- Harvesting system with UI feedback and enhanced crosshair
- Valheim-style tree falling physics with log breaking
- Impact-based log shattering with particle effects
- Resource night glow effects
- Wildlife spawning (8 critter types)
- Basic building system
- Inventory system with grid-based UI (Tab to open, 32 visual slots)
- Crafting system with 5 starter recipes (stone tools, campfire, torch, wood wall)
- Health/hunger system with regeneration and eating
- Settings menu with quality presets
- Water plane with collision
- Tool system (Axe/Pickaxe) with requirement checking and visual feedback
- Modular vegetation system with extracted tree visual generators
- Full Xbox controller support with analog movement/camera and button mappings

v0.2.0 (commit: cc9669a) - December 8, 2025
- Enhanced Vegetation & World Systems
- Initial biome-specific spawning
- Basic world generation foundation

---

Instructions:
- Add new entries at the top under "Recent Changes"
- Use format: [YYYY-MM-DD HH:MM] - What changed
- At release, move "Recent Changes" to new version section
- Keep entries brief but descriptive
